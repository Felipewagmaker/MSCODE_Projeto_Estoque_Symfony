{% extends 'paginasapp.html.twig' %}

{% block title %}Vendas Realizadas{% endblock %}

{% block body %}
<main>
    <div class="container mt-5">
        <h1 class="mb-4">Vendas Realizadas</h1>

        {% if vendas is not empty %}
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Produto</th>
                    <th>Quantidade</th>
                    <th>Valor Total</th>
                    <th>Data da Venda</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for venda in vendas %}
                <tr>
                    <td>{{ venda.id }}</td>
                    <td>{{ venda.produto_nome }}</td>
                    <td>{{ venda.quantidade }}</td>
                    <td>R$ {{ venda.valor_total|number_format(2, ',', '.') }}</td>
                    <td>{{ venda.data_venda|date('d/m/Y H:i') }}</td>
                    <td>
                        <a href="{{ path('editar_venda', { 'id': venda.id }) }}" class="btn btn-warning btn-sm">Editar</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="alert alert-info" role="alert">
            Nenhuma venda realizada até o momento.
        </div>
        {% endif %}

        <a href="{{ path('nova_venda') }}" class="btn btn-primary">Nova Venda</a>
    </div>
</main>
{% endblock %}
